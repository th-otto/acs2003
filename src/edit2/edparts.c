#include "acs_i.h"
#include "country.h"
#include "acs_uo.h"

#define STATIC

extern Obj_Head part_palette; /* FIXME: should be static */

static void go_spec_edit(void);
static void go_flag_edit(void);
static void go_ref_edit(void);
static void go_pos_edit(void);

static boolean part_service(Awindow *self, int16 task, void *in_out);
static Awindow *part_make(void *a);
static int16 part_init(Awindow *self);
static void part_close(Awindow *self);

static void ed_abort(void);

#include "edparts.ah"

STATIC TEDINFO button = { "BUTTON", "", "", 3, 6, 2, 0x1180, 0, -1, 6, 0 };
STATIC TEDINFO gtext = { "TEXT", "", "", 3, 6, 2, 0x1180, 0, -1, 5, 0 };
STATIC TEDINFO title = { " TITLE ", "", "", 3, 6, 2, 0x1180, 0, -1, 8, 0 };
STATIC TEDINFO editext = { "abc", "EDIT:____", "XXXX", 3, 6, 2, 0x1180, 0, -1, 4, 10 };
STATIC TEDINFO usertext = { "USERDEF", "", "", 3, 6, 2, 0x1180, 0, -1, 8, 0 };
STATIC AUSERBLK check = { A_checkbox, 0L, NULL, NULL, NULL, NULL, NULL, NULL };
STATIC AUSERBLK radio = { A_radiobutton, 0L, NULL, NULL, NULL, NULL, NULL, NULL };
STATIC AUSERBLK frame = { A_innerframe, 0x00031101L, NULL, NULL, NULL, NULL, NULL, NULL };
STATIC Obj_Head astrabs = { NULL, "abc", 0, sizeof("abc"), sizeof("abc"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head astredit = { NULL, "EDIT:____", 0, sizeof("EDIT:____"), sizeof("EDIT:____"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head astrvalid = { NULL, "XXXX", 0, sizeof("XXXX"), sizeof("XXXX"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head astring = { NULL, "STRING", 0, sizeof("STRING"), sizeof("STRING"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head atitle = { NULL, " TITLE ", 0, sizeof(" TITLE "), sizeof(" TITLE "), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head abutton = { NULL, "BUTTON", 0, sizeof("BUTTON"), sizeof("BUTTON"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head astrnull = { NULL, "", 0, sizeof(""), sizeof(""), NULL, "NULL_STRING", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head astrtext = { NULL, "TEXT", 0, sizeof("TEXT"), sizeof("TEXT"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
STATIC TEDINFO agtext_obj = { (char *)&astrtext, (char *)&astrnull, (char *)&astrnull, 3, 6, 2, 0x1180, 0, -1, sizeof("TEXT"), 0 };
STATIC Obj_Head agtext = { NULL, &agtext_obj, 0, sizeof(agtext_obj), sizeof(agtext_obj), NULL, "TEDINFO_01", 1, 0, { 0, 0, 0, 0 } };
STATIC TEDINFO aeditext_obj = { (char *)&astrabs, (char *)&astredit, (char *)&astrvalid, 3, 6, 2, 0x1180, 0, -1, sizeof("abc"), sizeof("EDIT:____") };
STATIC Obj_Head aeditext = { NULL, &aeditext_obj, 0, sizeof(aeditext_obj), sizeof(aeditext_obj), NULL, "TEDINFO_01", 1, 0, { 0, 0, 0, 0 } };
STATIC struct {
	BITBLK bit;
	int16 imagedata[72];
} abitblk_obj = {
	{ (int16 *)sizeof(BITBLK), 6, 24, 0, 0, 1 },
	{ 0x07ff, 0xffff, 0xff80, 0x0c00, 0x0000, 0x00c0, 0x183f, 0xf03f,
	  0xf060, 0x187f, 0xf860, 0x1860, 0x187f, 0xf860, 0x1860, 0x187f,
	  0xf860, 0x1860, 0x187f, 0xf860, 0x1860, 0x187f, 0xf860, 0x1860,
	  0x187f, 0xf860, 0x1860, 0x187f, 0xf860, 0x1860, 0x187f, 0xf860,
	  0x1860, 0x187f, 0xf860, 0x1860, 0x187f, 0xf860, 0x1860, 0x187f,
	  0xf860, 0x1860, 0x183f, 0xf03f, 0xf060, 0x0c00, 0x0000, 0x00c0,
	  0x07ff, 0xffff, 0xff80, 0x0000, 0x0000, 0x0000, 0x3f30, 0xc787,
	  0x8fe0, 0x0c39, 0xcccc, 0xcc00, 0x0c36, 0xcfcc, 0x0f80, 0x0c30,
	  0xcccd, 0xcc00, 0x3f30, 0xccc7, 0xcfe0, 0x0000, 0x0000, 0x0000 }
};
STATIC Obj_Head abitblk = { NULL, &abitblk_obj, 0, sizeof(abitblk_obj), sizeof(abitblk_obj), NULL, "IMAGE_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head asepcall = { NULL, NULL, 0, 0, 0, NULL, "A_innerframe", 1, 0x203, { 0, 0, 0, 0 } };
STATIC Obj_Head asepparm = { NULL, NULL, 0, 0, 0, NULL, "0x11101L", 1, 0, { 0, 0, 0, 0 } };
STATIC AUSERBLK asep_obj = { (void *)&asepcall, (int32)(void *)&asepparm, NULL, NULL, NULL, NULL, NULL, NULL };
STATIC Obj_Head asep = { NULL, &asep_obj, 0, sizeof(asep_obj), sizeof(asep_obj), NULL, "SEPERATOR000", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head ausercall = { NULL, NULL, 0, 0, 0, NULL, "USER_OBJ", 1, 3, { 0, 0, 0, 0 } };
STATIC Obj_Head auserparm = { NULL, NULL, 0, 0, 0, NULL, "0x0L", 1, 0, { 0, 0, 0, 0 } };
STATIC AUSERBLK auserblk_obj = { (void *)&ausercall, (int32)(void *)&auserparm, NULL, NULL, NULL, NULL, NULL, NULL };
STATIC Obj_Head auserblk = { NULL, &auserblk_obj, 0, sizeof(auserblk_obj), sizeof(auserblk_obj), NULL, "USERBLK_01", 1, 0, { 0, 0, 0, 0 } };
STATIC Obj_Head astricon = { NULL, "CICON", 0, sizeof("CICON"), sizeof("CICON"), NULL, "TEXT_01", 1, 0, { 0, 0, 0, 0 } };
static struct {
	ACSCICONBLK cicon;
	int16 iconmask[72];
	int16 icondata[72];
} aiconblk_obj = {
	{ { { (int16 *)82, (int16 *)226, (char *)&astricon, 0x1041, 20, 6, 0, 0, 48, 24, 0, 24, 48, 8 }, NULL },
	  { 0, NULL, NULL, NULL, NULL, NULL },
	  { 0, NULL, NULL, NULL, NULL, NULL }
	}, {
	  0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff,
	  0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff,
	  0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00,
	  0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff,
	  0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00, 0x00ff,
	  0xffff, 0xfe00, 0x00ff, 0xffff, 0xfe00, 0x0fff, 0xffff, 0xfff0,
	  0x0fff, 0xffff, 0xfff0, 0x0fff, 0xffff, 0xfff0, 0x0fff, 0xffff,
	  0xfff0, 0x0fff, 0xffff, 0xfff0, 0x0fff, 0xffff, 0xfff0, 0x0fff,
	  0xffff, 0xfff0, 0x0fff, 0xffff, 0xfff0, 0x0000, 0x0000, 0x0000
	}, {
	  0x00ff, 0xffff, 0xfe00, 0x00c0, 0x0000, 0x0600, 0x00c0, 0x7fff,
	  0x8600, 0x00c0, 0xc000, 0x8600, 0x00c1, 0x4000, 0x8600, 0x00c3,
	  0xc000, 0x8600, 0x00c2, 0x0000, 0x8600, 0x00c2, 0x0000, 0x8600,
	  0x00c2, 0x0000, 0x8600, 0x00c2, 0x0000, 0x8600, 0x00c2, 0x0000,
	  0x8600, 0x00c2, 0x0000, 0x8600, 0x00c2, 0x0000, 0x8600, 0x00c2,
	  0x0000, 0x8600, 0x00c2, 0x0000, 0x8600, 0x0fc3, 0xffff, 0x87f0,
	  0x0c00, 0x0000, 0x0030, 0x0c1c, 0xf9f9, 0x8830, 0x0c08, 0x8109,
	  0x4830, 0x0c08, 0x8109, 0x2830, 0x0c1c, 0xf9f9, 0x1830, 0x0c00,
	  0x0000, 0x0030, 0x0fff, 0xffff, 0xfff0, 0x0000, 0x0000, 0x0000,
	}
};
STATIC Obj_Head aiconblk = { NULL, &aiconblk_obj, 0, sizeof(aiconblk_obj), sizeof(aiconblk_obj), NULL, "ICON_01", 1, 0, { 0, 0, 0, 0 } };

STATIC OBJ_ENTRY tree[] = {
	{ NULL, NULL,
	  { -1, -1, -1, 0x001a, 0x0005, 0x0000, C_UNION(&abutton), 0x0000, 0x0000, 0x0007, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x001c, 0x0000, 0x0000, C_UNION(&astring), 0x0000, 0x0000, 0x0006, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x001d, 0x0008, 0x0000, C_UNION(&aeditext), 0x0000, 0x0000, 0x0009, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x001e, 0x0008, 0x0000, C_UNION(&aeditext), 0x0000, 0x0000, 0x0009, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0019, 0x0000, 0x0000, C_UNION(0x00011101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0015, 0x0000, 0x0000, C_UNION(&agtext), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x001b, 0x0000, 0x0000, C_UNION(0x43ff1101L), 0x0000, 0x0000, 0x0002, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0016, 0x0000, 0x0000, C_UNION(&agtext), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0020, 0x0000, 0x0000, C_UNION(&atitle), 0x0000, 0x0000, 0x0007, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0017, 0x0000, 0x0000, C_UNION(&abitblk), 0x0000, 0x0000, 0x0006, 0x0002 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x001f, 0x0000, 0x0000, C_UNION(&aiconblk), 0x0000, 0x0000, 0x0006, 0x0002 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0018, 0x0000, 0x0000, C_UNION(&auserblk), 0x0000, 0x0000, 0x0008, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } },
	{ NULL, NULL,
	  { -1, -1, -1, 0x0014, 0x0000, 0x0000, C_UNION(0x00ff1101L), 0x0000, 0x0000, 0x0004, 0x0001 },
	  { NULL, NULL, 0x8000, 0x0000, NULL, NULL, 0x0000, 0x0000 } }
};
Obj_Head part_palette = { NULL, tree, 0, sizeof(tree), sizeof(tree), NULL, "PALETTE", 1, 0, { 0, 0, 0, 0 } };
STATIC BITBLK bitblk = { abitblk_obj.imagedata, 6, 24, 0, 0, 1 };
STATIC ACSCICONBLK iconblk = {
	{ { aiconblk_obj.iconmask, aiconblk_obj.icondata, "CICON", 0x1041, 20, 6, 0, 0, 48, 24, 0, 24, 48, 8 }, NULL },
	{ 0, NULL, NULL, NULL, NULL, NULL },
	{ 0, NULL, NULL, NULL, NULL, NULL }
};
STATIC int16 part_ucnt = 0;

STATIC void set_userdata(AUSER_DEF *user, int16 width, int16 height);

STATIC UOCALLS uocall = { ed_abort, set_userdata };
Awindow *parts_window = NULL;

#define MAX_PARTS 40

STATIC void *part_list[MAX_PARTS];

/******************************************************************************/
/* -------------------------------------------------------------------------- */
/******************************************************************************/


